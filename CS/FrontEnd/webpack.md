# Module

`정의` 프로그래밍 관점에서 특정 기능을 갖는 작은 코드 단위

# Module Bundler

`정의`

웹 애플리케이션을 구성하는 자원(HTML, CSS, JS, Image 등)을 모두 각각의 모듈로 보고, 이를 조합해서 병합된 하나의 결과물로 만드는 도구

# Webpack

`등장배경`

1. 파일 단위의 자바스크립트 모듈 관리의 필요성
2. 웹 개발 작업 자동화 도구 (Web Task Manager)
3. 웹 애플리케이션의 빠른 로딩 속도와 높은 성능

`문제`

1. 자바스크립트 변수 유효 범위
2. 브라우저별 HTTP 요청 숫자의 제약
3. 사용하지 않는 코드의 관리
4. Dynamic Loading & Lazy Loading 미지원
    - [Require.js](https://requirejs.org/)와 같은 라이브러리를 쓰지 않으면 동적으로 원하는 순간에 모듈을 로딩하는 것이 불가능 했습니다. 그러나 이젠 웹팩의 Code Splitting기능을 이용하여 원하는 모듈을 원하는 타이밍에 로딩할 수 있습니다.

`해결방법`

1. IIFE (즉시 실행함수) 
2. AMD, Common JS 등의 다양한 모듈 스팩 → 모든 브라우저에서 지원X

`정의`

오픈 소스 자바스크립트 모듈 번들러

여러 개로 나누어져 있는 파일들을 하나의 자바스크립트 코드로 압축하고 최적화하는 라이브러리 

`주요속성`

1. `entry` : 웹팩에서 웹 자원을 변환하기 위해 필요한 최초 진입점이자 자바스크립트 파일 경로
2. `output` : 웹팩을 돌리고 난 결과물의 파일 경로
3. `loader` : 웹팩이 웹 애플리케이션을 해석할 때 자바스크립트 파일이 아닌 웹 자원(HTML, CSS, Images, 폰트 등)들을 변환할 수 있도록 도와주는 속성 (파일을 해석하고 변환하는 과정에 관여하는 역할)
4. `plugin` : 웹팩의 기본적인 동작에 추가적인 기능을 제공하는 속성 (해당 결과물의 형태를 바꾸는 역할)
    - 번들된 자바스크립트를 난독화 한다거나 특정 텍스트를 추출하는 용도로 사용할 수 있다.

`최적화`

1. 번들 사이즈 줄이기
    1. `webpack mode` : none | development | production
        - development
            - [localhost](http://localhost) 서버에서 live reloading, hot module replacement 기능을 목적으로 이용
        - production
            - 로드 시간을 줄이기 위해 번들 최소화
            - 가벼운 소스맵 및 에셋 최적화에 초점을 맞춘다.
            - tersurPlugin 을 이용하여 코드를 압축, 난독화 한다.
    2. `source map`
        - 소스맵이란?
            - 배포용으로 빌드한 파일과 원본 파일을 서로 연결시켜주는 기능
            - 보통 서버에서 빠르게 전달되고 보안성을 높이기 위해서 난독화와 압축이 사용되는데 이럴 경우 페이지에서 에러가 발생할 시 디버깅하기가 힘들어진다.
            - 브라우저의 디버깅툴은 난독화된 코드에서 에러가 난 부분을 가르키기 때문에 개발자가 에러난 코드가 애초에 무엇인지 알 수가 없다.
            - 소스맵은 원본코드를 특정한 알고리즘으로 인코딩하여 특정 키워드로 맵핑을 시켜놓으면 나중에 브라우저에서는 난독화된 코드를 드래로 디코딩하여 복원 시킬 수 있다.
    3. `code splitting`
        - 지금 당장 필요한 코드가 아니라면 따로 분리시켜서, 나중에 필요할 때 불어와서 사용할 수 있다.
        - entry-point 를 통하여 나누기
        - dynamic import를 이용하기
            - 런타임시 필요한 module을 import 할 수 있다.
            - 모든 브라우저에서 지원X → 따로 설정해주어야 한다.
                - prefetch : 현재 페이지에서 확실히 사용되는 곳에 이용한다.
                - preload : 추후에 사용될 곳에 이용한다.
        - optimization.splitChunks : 중복된 모듈을 처리
    4. `tree shaking`
        - 사용하지 않는 코드를 번들링 결과에 포함하지 않는 일
2. 빌드 속도 줄이기 : `persistent cache`